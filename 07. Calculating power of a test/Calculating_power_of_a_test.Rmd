---
title: "Calculating power of a test"
output: html_notebook
---

# Introduction

With previous example, we practiced how to calculate *p-values* from the dataset with different distributions. Here, we will try some practices to calculate the power of a test. Same as previous example, the **normal distribution** and **t-distribution** will be used for practice.

All of the examples here are for a **two-sided test**, and you can adjust them accordingly for a one-sided test.

## Power of A Test

**The power of a test** is the probability that we can the reject null hypothesis at a given mean that is away from the one specified in the null hypothesis. We calculate this probability by first calculating the probability that we accept the null hypothesis when we should not. This is the probability to make a type II error. Hence, the power is the **probability that we do not make a type II error** so we then take one minus the result to get the power.

We can fail to reject the null hypothesis if the sample happens to be within the confidence interval we find when we assume that the null hypothesis is true. To get the *confidence interval*, we find the margin of error and then add and subtract it to the proposed mean, a, to get the confidence interval. We then turn around and assume instead that the true mean is at a different, explicitly specified level, and then find the probability a sample could be found within the original confidence interval.

# Calculating The Power Using a Normal Distribution

Here we calculate the power of a test for a normal distribution. In the example below the hypothesis test is, H0:Î¼x=5.

We will assume that the *standard deviation* is 2, and the *sample size* is 20. In the example below we will use a 95% confidence level and wish to find the power to detect a true mean that differs from 5 by an amount of 1.5. (All of these numbers are made up solely for this example.) The commands to find the confidence interval in R are the following:
```{r}
a <- 5
s <- 2
n <- 20
error <- qnorm(0.975)*s/sqrt(n)
left <- a-error
right <- a+error
```

```{r}
left
right
```

Next we find the *Z-scores* for the left and right values assuming that the true mean is 5+1.5=6.5:
```{r}
assumed <- a + 1.5
Zleft <- (left-assumed)/(s/sqrt(n))
Zright <-(right-assumed)/(s/sqrt(n))
p <- pnorm(Zright)-pnorm(Zleft)
p
```

The probability that we make a type II error if the true mean is 6.5 is approximately 8.1%. So the *power of the test* is 1-p:
```{r}
1-p
```
# Calculating the Power Using a t-Distributions

## Calculating Single Power Using a t-Distributions
## Calculating Multiple Powers Using a t-Distributions
